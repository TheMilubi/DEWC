<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Preguntas al azar</title>
    <script>
        var preguntas = [
            {
                pregunta: "多Con que comando a単adimos elementos a una tabla en SQL?",
                respuestas: ["SELECT", "INSERT", "DELETE", "UPDATE"],
                correcta: 1
            },
            {
                pregunta: "多Con que comando actualizamos los elementos de una tabla en SQL?",
                respuestas: ["SELECT", "INSERT", "DELETE", "UPDATE"],
                correcta: 3
            },
            {
                pregunta: "多Con que comando vemos los elementos a una tabla en SQL?",
                respuestas: ["SELECT", "INSERT", "DELETE", "UPDATE"],
                correcta: 0
            }
        ]
        window.onload = function () {
            var test = "";
            copia = preguntas.slice();
            copia.sort(function (a, b) { return 0.5 - Math.random() }); //Sort random de preguntas.
            copia.forEach((pregunta, indice) => {
                test += `<p>${indice + 1}. ${pregunta.pregunta}<p>`;
                pregunta.respuestas.forEach( (respuesta, indiceR) => {
                    test += `<input type="radio" name="${preguntas.indexOf(pregunta)}" value="${indiceR}">${respuesta}<br>`
                })
            })
            document.getElementById('contenido').innerHTML = test;
            document.getElementById('corregir').onclick = () => {
                console.log('corregir');
                let aciertos = 0;
                let fallos = 0;
                for (let i = 0; i < preguntas.length; i++) {
                    let radio = document.getElementsByName(`${i}`);
                    if (radio[preguntas[i].correcta].checked) {
                        aciertos++;
                    }
                    else {
                        fallos++;
                    }
                }
                alert(`Aciertos: ${aciertos}\nFallos: ${fallos}`);
            }
        }
    </script>
</head>

<body>
    <h1>Mini-test</h1>
    <div id="contenido"></div>
    <button id="corregir">Corregir</button>
</body>

</html>