<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Adivina el Refrán</title>
    <script>
        var refranes = [
            "A buen entendedor, pocas palabras bastan.",
            "A buen hambre, no hay pan duro.",
            "! A buenas horas, mangas verdes!",
            "A caballo regalado no le mires el diente.",
            "A cada cerdo le llega su San Martín.",
            "A Dios rogando y con el mazo dando.",
            "A enemigo que huye, puente de plata.",
            "A falta de pan, buenas son tortas.",
            "A grandes males, grandes remedios.",
            "A gusto de los cocineros comen los frailes.",
            "A la arrogancia en el pedir, la virtud del no dar.",
            "A la cama no te irás sin saber una cosa más.",
            "A la tercera va la vencida.",
            "A lo hecho, pecho.",
            "A mal tiempo, buena cara.",
            "A más años, más desengaños.",
            "A nadie le amarga un dulce.",
            "A otro perro con ese hueso.",
            "A palabras necias, oídos sordos.",
            "A quien madruga, Dios le ayuda.",
            "A quien mucho tiene, más le viene.",
            "A rey muerto, rey puesto.",
            "A río revuelto, ganancia de pescadores.",
            "A todo se acostumbra uno, menos a no comer.",
            "A un clavo ardiendo se agarra el que se está hundiendo.",
            "A donde las dan las toman.",
            "Afortunado en el juego, desafortunado en amores.",
            "Agua pasada no mueve molino.",
            "Agua que no has de beber déjala correr.",
            "Ahora adulador, mañana traidor.",
            "Al pan, pan, y al vino, vino.",
            "Al perro flaco, todo se le vuelven pulgas.",
            "Al que Dios se la dé, San Pedro se la bendiga.",
            "Al revés te lo digo para que me entiendas.",
            "Algo tendrá el agua cuando la bendicen.",
            "Amor con amor se cura.",
            "Ande yo caliente y ríase la gente.",
            "Ante la duda, la más tetuda.",
            "Antes de hacer nada, consúltalo con la almohada.",
            "Antes de meter, prometer.",
            "Antes se coge al mentiroso que al cojo.",
            "Año de nieves, año de bienes.",
            "Aprendiz de todo y oficial de nada.",
            "Arrieros somos, y en el camino nos encontraremos.",
            "Aunque la mona se vista de seda. mona se queda.",
            "Ave que vuela, a la cazuela.",
            "Burro grande, ande o no ande.",
            "Cada cual en su casa y Dios en la de todos.",
            "Cada loco con su tema.",
            "Cada maestrillo tiene su librillo.",
            "Cada moneda tiene dos caras.",
            "Cada persona es dueña de su silencio y esclava de sus palabras.",
            "Cada uno cuenta de la feria como le va en ella.",
            "Calumnia, que algo queda.",
            "Casa con dos puertas, mala es de guardar.",
            "Como éramos pocos, parió la abuela.",
            "Con las glorias se olvidan las memorias.",
            "Con pan y vino, se anda el camino.",
            "Consejos vendo, y para mí no tengo.",
            "Contigo, pan y cebolla.",
            "Contra el feo vicio de pedir, existe la noble virtud de no dar.",
            "Contra la fortuna, no hay arte alguna.",
            "Corazón codicioso, no tiene reposo.",
            "Coser y cantar, todo es empezar.",
            "Cree el ladrón que todos son de su condición.",
            "Cría fama y échate a dormir.",
            "Cría cuervos y te sacarán los ojos.",
            "Cuando el diablo no tiene nada que hacer, mata moscas con el rabo.",
            "Cuando el río suena, agua lleva.",
            "Cuando las barbas del vecino veas pelar, pon las tuyas a remojar.",
            "Cuando menos se piensa, salta la liebre.",
            "Cuanto más se tiene, más se quiere.",
            "Cuanto más vieja, más pelleja.",
            "Dame pan y dime tonto.",
            "Date prisa, pero no corras.",
            "De aquellos polvos, vienen estos lodos.",
            "De donde no hay, no se puede sacar.",
            "De la calle vendrá, quien de tu casa te echará.",
            "De lo que no cuesta, llena la cesta.",
            "De lo que no veas, ni la mitad te creas.",
            "De noche todos los gatos son pardos.",
            "De tal palo, tal astilla.",
            "Del árbol caído, todos hacen leña.",
            "Del dicho al hecho hay un buen trecho.",
            "Del jefe y del mulo cuanto más lejos más seguro.",
            "Dentro de cien años, todos calvos.",
            "Después de la tempestad, viene la calma.",
            "Dime con quien andas y te diré quien eres.",
            "Dime de que presumes y te diré de que careces.",
            "Dios aprieta pero no ahoga.",
            "Dios los cría y ellos se juntan.",
            "Donde fueres, haz lo que vieres.",
            "Donde las dan las toman.",
            "¿Dónde va Vicente?, donde va la gente.",
            "El buen paño en el arca se vende.",
            "El buey suelto, bien se lame.",
            "El gato escaldado, del agua fría huye.",
            "El hábito no hace al monje.",
            "El hambre aguza el ingenio.",
            "El hambre es muy mala consejera.",
            "El mejor escribano echa un borrón.",
            "El muerto al hoyo y el vivo al bollo.",
            "El ocio no quede impune; quien no trabaje, que ayune.",
            "El ojo del amo engorda el caballo.",
            "El perro del hortelano, ni come ni deja comer al amo.",
            "El pez grande se come al chico.",
            "El que a buen árbol se arrima, buena sombra le cobija.",
            "El que a hierro mata, a hierro muere.",
            "El que algo quiere, algo le cuesta.",
            "El que avisa no es traidor.",
            "El que calla, otorga.",
            "El que espera, desespera.",
            "El que esté libre de pecado, que tire la primera piedra.",
            "El que fue a Sevilla perdió su silla.",
            "El que guarda, siempre tiene.",
            "El que la sigue, la consigue.",
            "El que mucho habla, mucho yerra.",
            "El que mucho ofrece, poco da.",
            "El que no llora, no mama.",
            "El que no se consuela, es porque no quiere.",
            "El que parte y reparte, se queda con la mejor parte.",
            "El que pega primero, pega dos veces.",
            "El que quiera peces que se moje el culo.",
            "El que ríe el último, ríe mejor.",
            "El que se excusa, se acusa.",
            "El que se pica, ajos come.",
            "El que siembra viento, cosecha tempestades.",
            "El que tiene padrino se bautiza.",
            "El que vive de favores, sirve a muchos señores.",
            "El saber no ocupa lugar.",
            "El tiempo todo lo cura.",
            "En boca cerrada no entran moscas.",
            "En casa del herrero, cuchillo de palo.",
            "En el país de los ciegos, el tuerto es el rey.",
            "En la variedad está el gusto.",
            "En martes, ni te cases ni te embarques.",
            "En todas partes cuecen habas.",
            "Hablando del rey de Roma, por la puerta asoma.",
            "Haciendo y deshaciendo se va aprendiendo.",
            "Haz bien y no mires a quien.",
            "La ley del embudo, para mí lo ancho y para ti lo agudo.",
            "La ocasión la pintan calva.",
            "Luego que tu pan comí, no me acordé de ti.",
            "Mal de muchos, consuelo de tontos.",
            "Más discurre un hambriento que cien letrados.",
            "Más sabe el diablo por viejo que por diablo.",
            "Más vale lo malo conocido que lo bueno por conocer.",
            "Más vale llegar a tiempo que rondar un año.",
            "Más vale maña que fuerza.",
            "Más vale pájaro en mano que ciento volando.",
            "Más vale prevenir que curar.",
            "Más vale tarde que nunca.",
            "Muerto el perro, se acabó la rabia.",
            "Nadie es profeta en su tierra.",
            "Nadie escarmienta en cabeza ajena.",
            "Nadie tira piedras a su tejado.",
            "Ni pidas a quien pidió, ni sirvas a quien sirvió.",
            "Ni tanto ni tan calvo.",
            "No es oro todo lo que reluce.",
            "No es tan fiero el león como lo pintan.",
            "No hay mal que por bien no venga.",
            "No hay peor sordo que el que no quiere oír.",
            "No hay tonto que no se tenga por listo.",
            "No por mucho madrugar, amanece más temprano.",
            "No quieres caldo, pues toma tres tazas.",
            "No se hizo la miel para la boca del asno.",
            "No te cierres una puerta, si no has abierto otra.",
            "No tires piedras sobre tu tejado.",
            "No vendas la piel de oso antes de haberlo cazado.",
            "Nunca digas de este agua no beberé.",
            "Nunca es tarde si la dicha es buena.",
            "Nunca llueve a gusto de todos.",
            "Obras son amores, que no buenas razones.",
            "Ojos que no ven, corazón que no siente.",
            "Palos con gusto no duelen.",
            "Para ese viaje no se necesitan alforjas.",
            "Pelillos a la mar.",
            "Perro ladrador, poco mordedor.",
            "Pesar ajeno, no quita el sueño.",
            "Piensa mal y acertarás.",
            "Poco a poco se llega antes.",
            "Poderoso caballero es don dinero.",
            "Por el hilo se saca el ovillo.",
            "Por un oído me entra y por otro me sale.",
            "Primero es la obligación que la devoción.",
            "Que cada palo aguante su vela.",
            "Quien bien te quiere, te hará llorar.",
            "Quien da primero, da dos veces",
            "Quien nace lechón, muere gorrino.",
            "Quien no se aventura, no pasa la mar.",
            "Quien tiene boca se equivoca.",
            "Rectificar es de sabios.",
            "Resultó peor el remedio que la enfermedad.",
            "Sarna con gusto no pica.",
            "Si dices las verdades, pierdes las amistades.",
            "Si hay trato, pueden ser amigos perro y gato.",
            "Tanto tienes, tanto vales.",
            "Tanto va el cántaro a la fuente que al final se rompe.",
            "Tras cornudo, apaleado.",
            "Un grano no hace granero, pero ayuda al compañero.",
            "Una cosa es predicar y otra dar trigo.",
            "Vísteme despacio que tengo prisa.",
            "Zurrón de mendigo, nunca bien henchido."
        ];
        var interval;
        var refran;
        var nuevoRefran = function () {
            document.querySelector('#start').disabled = true;
            document.querySelector('#stop').disabled = false;
            let aleatorio = Math.floor(Math.random() * refranes.length);
            refran = refranes[aleatorio];
            let arr = refran.split('');
            let salida = '';
            //console.log(refran);
            arr.forEach((value) => {
                //console.log(value);
                if (value != " ") {
                    salida += `<button width="auto" disabled>_</button>`;
                } else {
                    salida += `<button width="auto" style="visibility:hidden;" disabled>${value}</button>`;
                }
            });
            document.querySelector('#refran').innerHTML = salida;
            let letrasBotones = document.querySelectorAll('p button');
            let letrasAMostrar = [];
            for (let i = 0; i < arr.length; i++) {
                letrasAMostrar[i] = i;
            }
            //let interval = 1000;
            letrasAMostrar.sort((a, b) => { return 0.5 - Math.random() });
            /*  for (let i = 0; i < letrasAMostrar.length; i++) {
                 setTimeout(mostrar(letrasAMostrar, arr, i), 3000);
                 
             } */
            var i = 0;
            interval = setInterval(() => {
                i;
                console.log(i);
                if (i < letrasBotones.length) {
                    letrasBotones[letrasAMostrar[i]].innerHTML = arr[letrasAMostrar[i]];
                    i++;
                } else {
                    i = 0;
                    parar();
                    document.querySelector('#resolver').disabled = true;
                    document.querySelector('#salida').innerHTML = "Oportunidades agotadas"
                }
            }, 1000);
        }

        var parar = () => {
            clearInterval(interval);
            document.querySelector('#stop').disabled = true;
            document.querySelector('#resolver').disabled = false;
            document.querySelector('#respuesta').style.display = 'block';
            // document.querySelector('#start').disabled = true;
        }
        
        var comprobar = () => {
            let respuesta = document.querySelector('#respuesta').value;
            if (respuesta == refran) {
                document.querySelector('#salida').innerHTML = "Enhorabuena, su respuesta es correcta";
            }
            else {
                document.querySelector('#salida').innerHTML = `Mala suerte, su respuesta no es la correcta<br>La respuesta correcta es: ${refran}`;
                setTimeout(() => {
                    location.reload();
                }, 5000);
            }
        }
    </script>

</head>

<body>
    <h1>Adivina el siguiente refrán</h1>
    <form action="" method="post" onsubmit="return false;">
        <p id="refran"></p>
        <button id="start" onclick="nuevoRefran()">Start</button><button id="stop" onclick="parar()"
            disabled>Stop</button>
        <p>
            <input type="text" id="respuesta" style="display:none;">
        </p>
        <button id="resolver" onclick="comprobar()" disabled>Resolver</button>
    </form>
    <p id="salida"></p>

</body>

</html>